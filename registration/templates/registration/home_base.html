{% load static %}

<!DOCTYPE html>
<html>
<head>
    <title>{% block title %}{% endblock %}</title>
    <meta name = "viewport" content = "width = device-width, initial-scale = 1">

    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--Import materialize.css-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">

    <link rel="stylesheet" type="text/css" href="{% static 'registration/styles.css' %}" />

    <style>
        body, html {
            height: 100%;
        }
    </style>

</head>

<body>

    {# Navigation #}
    <ul id="slide-out" class="side-nav fixed grey lighten-4" style="z-index: 999;">
        <div class="center-align" style="margin: 20px 0 20px 0;">
            <img width="50" src="http://via1.org/registration/images/logos/uvsamw_logo_transparent.png">
        </div>

        <li><a href="{% url 'home' %}" class="waves-effect waves-orange tooltipped" data-position="right" data-delay="75" data-tooltip="Home"><i class="material-icons black-text">home</i></a></li>
        <li><a href="{% url 'profile' %}" class="waves-effect waves-orange tooltipped" data-position="right" data-delay="75" data-tooltip="Profile"><i class="material-icons black-text">person</i></a></li>
        <li><a href="#!" class="waves-effect waves-orange tooltipped" data-position="right" data-delay="75" data-tooltip="Hotel"><i class="material-icons black-text">hotel</i></a></li>
        <li><a href="#!" class="waves-effect waves-orange tooltipped" data-position="right" data-delay="75" data-tooltip="Workshops"><i class="material-icons black-text">speaker_notes</i></a></li>
        <li><a href="#!" class="waves-effect waves-orange tooltipped" data-position="right" data-delay="75" data-tooltip="Families"><i class="material-icons black-text">group</i></a></li>
        <li><div class="divider"></div></li>
        <li><a href="/registration/logout" class="waves-effect waves-orange tooltipped" data-position="right" data-delay="75" data-tooltip="Log Out"><i class="material-icons black-text">subdirectory_arrow_left</i></a></li>
    </ul>
    <a href="#" data-activates="slide-out" class="button-collapse z-depth-2 btn-floating btn-medium waves-effect waves-orange white left" style="margin: 15px; position: absolute; z-index: 998;"><i class="small material-icons black-text">menu</i></a>

{% block content %}
{% endblock %}

    <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>

    {% block additional_scripts %}
    {% endblock %}

    {# Miscellaneous #}
    <script>
        // Initialize collapse button
        $(".button-collapse").sideNav({
            menuWidth: 80
        });
        // Initialize collapsible (uncomment the line below if you use the dropdown variation)
        //$('.collapsible').collapsible();

        $(document).ready(function(){
            $('.tooltipped').tooltip({delay: 50});
        });

        // For Materalize modal windows
        $(document).ready(function(){
            $('.modal').modal();
        });

        // Parallax Scrolling
        $(document).ready(function(){
            $('.parallax').parallax();
        });

        // Scrollspy
        $(document).ready(function(){
            $('.scrollspy').scrollSpy({
                scrollOffset: 50
            });
        });

        // Materialize select form
        $(document).ready(function() {
            $('select').material_select();
        });
    </script>

    {# To show currently selected page on the side-nav #}
    <script>
        {# This WILL break if the "tooltipped" class is removed from the a tag in the menu #}
        {# There's definitely a better way to do this but I ran out of time #}
        {# This is also giving some weird TypeError in the browser dev tools #}
        $(function(){
            var current = location.pathname;
            $('#slide-out li').each(function(){
                var $li = $(this);
                var $a = $(this).children(".tooltipped");   /* Very hacky. working off our knowledge that .tooltipped is there */
                // if the current path is like this link, make it active
                if($a.attr('href').indexOf(current) !== -1){
                    $li.addClass('active');
                }
            })
        })
    </script>

</body>
</html>